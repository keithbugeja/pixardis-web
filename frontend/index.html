<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Pixardis Web IDE</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="about-modal" class="modal">
        <div class="modal-content about-modal">
            <span class="close" id="close-about">&times;</span>

            <div class="about-content">
                <h2>üéÆ Pixardis Web IDE</h2>

                <div class="about-section">
                <p>Sandro bought some piece-of-shit pixel display off AliExpress. Barely sent a signal without crying. No docs, no protocol, just dogshit. He wrote a spec for a stack VM so students could suffer like he did. I read it, laughed, and rewrote everything in Rust because his JavaScript VM ran like a wounded 386 on a heat stroke.</p>
                <br>
                <p>I bolted a compiler on it, wrote a VM that doesn‚Äôt suck, and shoved the whole thing into WebAssembly because apparently I hate myself. Now it runs in the browser. Compiles code. Pushes pixels. Kicks the hardware in the teeth.</p>
                <br>
                <p>Use it. Don‚Äôt. I already won.</p>
                </div>

                <div class="about-section">
                    <h3>Tech Stack (if you care):</h3>
                    <ul>
                        <li>ü¶Ä <strong>Rust</strong> ‚Äì 100% safety, 0% soundness</li>
                        <li>üåê <strong>WebAssembly</strong> ‚Äì Browser pretending it's a real machine</li>
                        <li>üìù <strong>Monaco Editor</strong> ‚Äì What passes as an IDE these days</li>
                        <li>üé® <strong>Canvas</strong> ‚Äì Pixel output. No shaders. No mercy.</li>
                    </ul>
                </div>

                <div class="about-section">
                    <h3>What can it do?</h3>
                    <p>Push bytes around. Draw pixels. Abuse stack. Animate with a language no sane person asked for.</p>
                    <p>It'll still outlive your web framework.</p>
                </div>

                <div class="about-section">
                    <h3>Why does this exist?</h3>
                    <p>Because that display was an insult to silicon.</p>
                    <p>Because JavaScript isn't a runtime. It's regret.</p>
                    <p>Cheaper than therapy.</p>
                    <p>Because I can.</p>
                    <p>Goddamn it, copilot, enough.</p>
                </div>

                <div class="about-footer">
                    <p><em>Made in Rust. Forged in spite. If it breaks, you get to keep both pieces.</em></p>
                </div>
            </div>
        </div>
    </div>
    <div class="ide-header">
        <h1>üéÆ Pixardis Web IDE</h1>
        <span style="color: #888;">Retro Computer Development Environment</span>
    </div>
    
    <div class="ide-content">
        <!-- Left Panel: Code Editor -->
        <div class="editor-panel">
            <div class="editor-toolbar">
                <button class="btn" id="compile-btn">üöÄ Compile & Run</button>
                <button class="btn secondary" id="load-fibonacci">Fibonacci</button>                
                <button class="btn secondary" id="load-pong">Pong</button>
                <button class="btn secondary" id="clear-editor">New File</button>
                <button id="about-btn" class="about-button" title="About Pixardis IDE">‚ÑπÔ∏è About</button>
            </div>
            
            <div id="monaco-editor"></div>
        </div>
        
        <!-- Right Panel: VM Display -->
        <div class="vm-panel">
            <div class="vm-header">
                <span>üñ•Ô∏è Pixardis Virtual Machine</span>
                <span style="color: #888; font-size: 11px;" id="vm-size-display">64√ó48 Display</span>
                <select id="vm-size-select" class="btn secondary" style="background: #5a5a5a;">
                    <option value="64,48">64√ó48 (Default)</option>
                    <option value="128,96">128√ó96 (2x)</option>
                    <option value="256,192">256√ó192 (4x)</option>
                    <option value="320,240">320√ó240 (QVGA)</option>
                    <option value="128,64">128√ó64 (Wide)</option>
                </select>
                <button class="btn secondary" id="reset-vm">Reset</button>
            </div>
            <div class="vm-controls">
                <div class="control-group">
                    <label for="cycles-slider">Cycles per frame:</label>
                    <input type="range" id="cycles-slider" min="1" max="5000" value="1000" step="1">
                    <span id="cycles-value">1000</span>
                </div>

                <div class="control-buttons">
                    <button id="pause-btn">‚è∏Ô∏è Pause</button>
                    <button id="step-btn" disabled>‚è≠Ô∏è Step</button>
                </div>

                <div class="performance-display">
                    <span id="fps-display">FPS: 0</span>
                    <span id="ips-display">IPS: 0</span>
                </div>
            </div>

            <div class="vm-content">
                <canvas id="vm-canvas" width="640" height="480"></canvas>
                <div class="vm-info">
                    <div>Resolution: 64√ó48 pixels</div>
                    <div>Press F8 or click Compile & Run to execute</div>
                </div>
            </div>
            <div class="console-output" id="console-output" style="display: none;">
                <div class="console-header">
                    <span>üìü Console Output</span>
                    <button class="btn secondary" id="clear-console">Clear</button>
                </div>
                <div class="console-content" id="console-content">     
                </div>
            </div>

        </div>
    </div>
    
    <div class="error-panel" id="error-panel" style="display: none;">
        <div class="error-header">
            <span>‚ùå Compilation Errors</span>
            <button class="btn secondary" id="close-errors">‚úï</button>
        </div>
        <div class="error-content" id="error-content">
            <!-- Error messages will be inserted here -->
        </div>
    </div>

    <div class="status-bar" id="status-bar">
        Ready to compile...
    </div>

    <script src="https://unpkg.com/monaco-editor@latest/min/vs/loader.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html>